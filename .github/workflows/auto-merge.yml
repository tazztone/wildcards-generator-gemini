name: Auto-merge Jules 
on: 
  pull_request: 
    types: 
      - opened 
      - synchronize 
      - ready_for_review  # Added this so it triggers when you click "Ready for review" 
 
jobs: 
  approve-and-merge: 
    runs-on: ubuntu-latest 
    # Run for Jules OR yourself (for testing) 
    if: github.actor == 'google-labs-jules' || github.actor == 'tazztone' 
    permissions: 
      contents: write 
      pull-requests: write 
    steps: 
      - name: Auto-manage PR 
        env: 
          GH_TOKEN: ${{ secrets.GITHUB_TOKEN }} 
          PR_URL: ${{ github.event.pull_request.html_url }} 
        run: | 
          # 1. Mark as ready for review (if it is a draft) 
          gh pr ready "$PR_URL" || true 
           
          # 2. Merge immediately 
          gh pr merge --auto --merge --delete-branch "$PR_URL" 
